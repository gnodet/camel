/*
 * This file was generated by the Gradle 'init' task.
 */

dependencies {
    compile 'org.slf4j:slf4j-api:1.7.25'
    compile 'org.apache.cxf:cxf-core:3.2.7'
    compile 'org.apache.cxf:cxf-rt-frontend-jaxrs:3.2.7'
    compile 'org.apache.cxf:cxf-rt-rs-security-oauth2:3.2.7'
    compile 'org.apache.cxf:cxf-rt-rs-extension-providers:3.2.7'
    compile 'net.sourceforge.htmlunit:htmlunit:2.24'
    compile 'com.fasterxml.jackson.core:jackson-databind:2.9.7'
    compile 'org.apache.cxf:cxf-rt-rs-client:3.2.7'
    testCompile 'org.apache.logging.log4j:log4j-api:2.11.1'
    testCompile 'org.apache.logging.log4j:log4j-core:2.11.1'
    testCompile 'org.apache.logging.log4j:log4j-slf4j-impl:2.11.1'
    testCompile 'junit:junit:4.12'
}

task generateSources(type: Exec) {
    commandLine 'mvn', "-DgenerateDir=${buildDir}/generated/main/java", 'org.apache.cxf:cxf-wadl2java-plugin:wadl2java@generate-wadl-sources'
    sourceSets.main.java.srcDirs += "${buildDir}/generated/main/java"
    inputs.dir('src/main/resources')
    outputs.dir("${buildDir}/generated/main/java")
    delete fileTree(dir: "target/cxf-codegen-plugin-markers")
}
compileJava.dependsOn generateSources

configurations {
    javadocArtifact
}

task javadocJar(type: Jar) {
    dependsOn javadoc
    classifier = 'javadoc'
    from javadoc.destinationDir
}

artifacts {
    javadocArtifact javadocJar
}

build.dependsOn javadocJar, compileJava

description = 'Camel :: LinkedIn :: API'
